# Implementation Plan: Hello World Agent

**Branch**: `001-hello-world-agent` | **Date**: 2026-03-01 | **Spec**: [spec.md](spec.md)
**Input**: Feature specification from `/specs/001-hello-world-agent/spec.md`

## Summary

Build an Akka service with a single AI agent that generates greetings in different languages, maintaining per-user conversation history through session memory. The agent uses a system prompt to guide the LLM in cycling through languages, adding warmth and humor, and tracking previous greetings. A single HTTP endpoint accepts user messages and routes them to the agent using the user name as the session identifier. A Bootstrap class validates AI model configuration at startup.

## Technical Context

**Language/Version**: Java 21+ (records)
**Primary Dependencies**: Akka SDK 3.5+ (parent POM `akka-javasdk-parent`)
**Storage**: Akka managed (agent session memory — automatic, no custom persistence)
**Testing**: JUnit 5, AssertJ, Akka TestKit (`TestKitSupport`, `TestModelProvider`)
**Target Platform**: JVM / Akka Cloud or local
**Project Type**: Web service (Akka microservice)
**Performance Goals**: Greeting responses < 15s (LLM latency)
**Constraints**: Per-user session isolation, configurable AI model provider
**Scale/Scope**: Single service, 1 Agent + 1 HTTP endpoint + 1 Bootstrap class

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| I. Domain Design | PASS | No domain entities needed — agent is stateless, session memory managed by framework. No domain package required for this simple feature. |
| II. Incremental Generation Workflow | PASS | Components built one at a time: Bootstrap → Agent → Agent test → Endpoint → Integration test → Docs. |
| III. Test Coverage | PASS | Agent test with `TestModelProvider` and `.fixedResponse()`. Endpoint integration test with `httpClient`. |
| IV. Akka SDK Conventions | PASS | `akka.*` imports. `@Component(id=...)` on agent. No `@Component` on endpoint. `@Acl` on endpoint. API-specific request type on endpoint. |
| V. Simplicity & Minimalism | PASS | Minimal components: one agent, one endpoint, one bootstrap. No entities, views, or workflows needed. All greeting behavior driven by LLM system prompt. |

No violations. Complexity Tracking not needed.

## Project Structure

### Documentation (this feature)

```text
specs/001-hello-world-agent/
├── plan.md              # This file
├── research.md          # Component mapping decisions
├── data-model.md        # Entity schemas (minimal for this feature)
├── quickstart.md        # curl examples and setup guide
├── contracts/
│   └── http-api.md      # HTTP endpoint contract
└── tasks.md             # Generated by /speckit.tasks
```

### Source Code (repository root)

```text
src/main/java/com/example/
├── Bootstrap.java                        # ServiceSetup — validates API key at startup
├── application/
│   └── HelloWorldAgent.java             # AI Agent — greeting generation with system prompt
└── api/
    └── HelloWorldEndpoint.java          # HTTP Endpoint — POST /hello

src/main/resources/
└── application.conf                      # Akka + AI model provider config

src/test/java/com/example/
└── IntegrationTest.java                  # Agent + endpoint integration test
```

**Structure Decision**: Single Akka service project following `application/api` package convention. No `domain` package needed — the agent is stateless and all greeting behavior is driven by the LLM system prompt. Session memory is managed automatically by the Akka agent framework.

## Component Summary

| Component | Type | Akka Pattern | Key Feature |
|-----------|------|-------------|-------------|
| HelloWorldAgent | Agent | `Agent` | System prompt drives multilingual greetings with session memory |
| HelloWorldEndpoint | HTTP Endpoint | `@HttpEndpoint` | POST /hello — routes to agent with user-based session ID |
| Bootstrap | ServiceSetup | `ServiceSetup` | Validates AI model API key at startup |

## Complexity Tracking

> No constitution violations to justify.
