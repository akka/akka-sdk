# Akka SDK docs

## Building the docs

### Prerequisites

- **Docker**: The documentation build process uses Docker to run the Antora build inside a container. You can [download and install Docker](https://docs.docker.com/get-docker/) from the official site.

### Build Process

To build the documentation locally, use the following commands in the root directory of the repository.

1. Prepare managed sources (copies samples sources into Antora directories)

```bash
make managed
```

2. If changes are required in the CLI reference (`src/modules/reference/pages/cli`), you need to run 

```shell
gem install kramdown-asciidoc
./docs/bin/generate_cli_docs.sh gen-index
```
This is because CLI `.adoc` for each command is generated by the CLI itself. See also `docs-cli-updates.yml` for more info. 
`generate_cli_docs.sh` also generates a file called `nav2` with the list of all commands `xref:`s that you need to use in `docs/src/modules/reference/nav.adoc`. 

3. Create the full site
```bash
make local open
```

This command will execute a Docker-based build process that compiles the documentation. The generated documentation will be output to the `target/site` directory.

4. Clean site and managed sources
```bash
make clean
```

## Viewing the docs

Once the build process is complete, you can view the documentation by opening the `index.html` file located in the `target/site` directory in your web browser.

Example path:

```bash
open ../target/site/index.html
```

## Deploying the docs

### Deploying Work In Progress (WIP) to doc.akka.io/snapshots

The deployment process is automatically triggered through GitHub Actions [Deploy WIP to doc.akka.io/snapshots/](https://github.com/akka/akka-sdk/actions/workflows/docs-wip.yml) Workflow when merging to main.

The WIP documentation will be published and available for viewing at [https://doc.akka.io/snapshots/](https://doc.akka.io/snapshots).

## Docs theme bundle source  

The [`antora-ui-default`](https://github.com/lightbend/antora-ui-default) repository contains the source files used to build the `akka-theme-ui-002-bundle.zip` bundle. This repository is based on the [Antora Default UI](https://gitlab.com/antora/antora-ui-default) and has been customized for Akka documentation needs.  

To modify or extend the theme, clone the [`antora-ui-default`](https://github.com/lightbend/antora-ui-default) repository, make the necessary changes, and build a new bundle.
